---
// biome-ignore lint/correctness/noUnusedImports: Used in template
import { Image } from "astro:assets";
// biome-ignore lint/correctness/noUnusedImports: Used in template
import iconImage from "../assets/icon.png";
---

<nav class="sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800">
  <div class="section-container">
    <div class="flex items-center justify-between h-16">
      <a href="/" class="flex items-center gap-2 hover:opacity-80 transition-opacity">
        <Image src={iconImage} alt="WorkspaceLauncher" width={32} height={32} class="w-8 h-8" />
        <span class="text-xl font-bold text-white">WorkspaceLauncher</span>
      </a>
      <div class="hidden md:flex items-center gap-8">
        <a
          href="/#features"
          class="text-gray-300 hover:text-white transition-colors"
        >
          Features
        </a>
        <a
          href="/docs"
          class="text-gray-300 hover:text-white transition-colors"
        >
          Docs
        </a>
        <a
          href="https://github.com/ur-wesley/WorkspaceLauncher"
          target="_blank"
          rel="noopener noreferrer"
          class="btn-secondary text-sm"
        >
          GitHub
        </a>
      </div>
      <button
        id="mobile-menu-button"
        class="md:hidden text-gray-300 hover:text-white transition-colors p-2"
        aria-label="Toggle mobile menu"
        aria-expanded="false"
      >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          <path id="close-icon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
    <div
      id="mobile-menu"
      class="hidden md:hidden border-t border-gray-800 py-4"
    >
      <div class="flex flex-col gap-4">
        <a
          href="/#features"
          class="text-gray-300 hover:text-white transition-colors"
        >
          Features
        </a>
        <a
          href="/docs"
          class="text-gray-300 hover:text-white transition-colors"
        >
          Docs
        </a>
        <a
          href="https://github.com/ur-wesley/WorkspaceLauncher"
          target="_blank"
          rel="noopener noreferrer"
          class="btn-secondary text-sm w-fit"
        >
          GitHub
        </a>
      </div>
    </div>
  </div>
</nav>

<script>
  const menuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIcon = document.getElementById('menu-icon');
  const closeIcon = document.getElementById('close-icon');

  if (menuButton && mobileMenu && menuIcon && closeIcon) {
    menuButton.addEventListener('click', () => {
      const isOpen = !mobileMenu.classList.contains('hidden');
      
      if (isOpen) {
        mobileMenu.classList.add('hidden');
        menuIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
        menuButton.setAttribute('aria-expanded', 'false');
      } else {
        mobileMenu.classList.remove('hidden');
        menuIcon.classList.add('hidden');
        closeIcon.classList.remove('hidden');
        menuButton.setAttribute('aria-expanded', 'true');
      }
    });

    document.querySelectorAll('#mobile-menu a').forEach((link) => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
        menuIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
        menuButton.setAttribute('aria-expanded', 'false');
      });
    });
  }
</script>
